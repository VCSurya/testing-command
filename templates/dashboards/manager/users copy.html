<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delete User Component</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        .font-plus-jakarta { font-family: 'Plus Jakarta Sans', sans-serif; }
        
        /* Modal Animation Styles */
        .modal-enter {
            animation: modalFadeIn 0.3s ease-out forwards;
        }
        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.95) translateY(10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
        
        /* Custom hide utility for vanilla JS */
        .modal-hidden { display: none !important; }
    </style>
</head>
<body class="bg-slate-200 font-plus-jakarta">

    <!-- DEMO WRAPPER: You can ignore this part, it just triggers the component -->
    <div class="flex flex-col items-center justify-center min-h-screen">
        <h1 class="text-2xl font-bold mb-4">Parent Container Content</h1>
        <button onclick="toggleDeleteUserModal(true)" class="bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-all">
            Open Delete Component
        </button>
    </div>

    <!-- START OF COMPONENT -->
    <div id="userDeleteComponent" class="modal-hidden font-plus-jakarta">
        <!-- Main Overlay: covers full screen width and height -->
        <div class="fixed inset-0 z-[999] flex items-center justify-center p-4 sm:p-6 overflow-y-auto">
            
            <!-- Backdrop: darkens everything behind -->
            <div class="fixed inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity" onclick="toggleDeleteUserModal(false)"></div>

            <!-- Modal Content Card -->
            <div class="modal-enter relative w-full max-w-lg overflow-hidden rounded-[2.5rem] bg-white shadow-[0_25px_60px_-15px_rgba(0,0,0,0.3)] my-auto">
                
                <!-- Decorative Top Bar -->
                <div class="h-2 w-full bg-gradient-to-r from-red-500 via-rose-500 to-orange-400"></div>

                <div class="p-8 sm:p-10">
                    <!-- Row 1: Icon and Title -->
                    <div class="flex items-center gap-5 border-b border-slate-100 pb-6">
                        <div class="flex h-14 w-14 shrink-0 items-center justify-center rounded-2xl bg-red-50 text-red-500 shadow-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="22" y1="11" x2="16" y2="11"/></svg>
                        </div>
                        <div class="flex-1">
                            <h2 class="text-2xl font-extrabold tracking-tight text-slate-900 sm:text-3xl leading-none">Delete Account</h2>
                            <p class="mt-1 text-sm font-medium text-slate-400 uppercase tracking-wide">Immediate Action</p>
                        </div>
                        <button onclick="toggleDeleteUserModal(false)" class="rounded-full p-2 text-slate-300 transition-colors hover:bg-slate-50 hover:text-slate-500">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                        </button>
                    </div>

                    <!-- Context Text -->
                    <p class="mt-6 text-slate-500 leading-relaxed">
                        You're about to remove <span class="font-semibold text-slate-900">Alex Rivera</span>. 
                        Please choose how to handle their current tasks and data.
                    </p>

                    <!-- User Summary Card -->
                    <div class="mt-6 flex items-center gap-4 rounded-3xl bg-slate-50 p-4 ring-1 ring-inset ring-slate-100">
                        <div class="flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 text-xl border-2 border-white shadow-sm overflow-hidden">
                            ðŸ‘¤
                        </div>
                        <div class="flex-1 overflow-hidden text-left">
                            <h4 class="truncate font-bold text-slate-900">Alex Rivera</h4>
                            <p class="truncate text-xs text-slate-400 font-medium">alex@company.com</p>
                        </div>
                        <div class="shrink-0 rounded-full bg-white px-3 py-1 text-[11px] font-bold text-orange-600 shadow-sm ring-1 ring-orange-100">
                            8 Active Tasks
                        </div>
                    </div>

                    <!-- Options Area -->
                    <div class="mt-8 space-y-4">
                        <!-- Option 1 -->
                        <div id="comp-opt-trans" onclick="updateModalSelection('transition')" class="group relative flex cursor-pointer flex-col gap-4 rounded-[1.75rem] border-2 p-5 transition-all duration-300 border-indigo-600 bg-indigo-50/40 ring-4 ring-indigo-50">
                            <div class="flex items-start gap-4">
                                <div id="comp-radio-trans" class="mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full border-2 transition-all duration-300 border-indigo-600 bg-indigo-600 scale-110 shadow-lg">
                                    <div class="h-2 w-2 rounded-full bg-white"></div>
                                </div>
                                <div class="flex-1 text-left">
                                    <span class="text-base font-bold text-slate-900">Safe Transition</span>
                                    <span class="mt-1 block text-sm text-slate-500 leading-snug">Transfer all assets and tasks to another team member.</span>
                                </div>
                            </div>
                            <!-- Dropdown -->
                            <div id="comp-dropdown" class="ml-10 mt-1">
                                <div class="relative">
                                    <select class="w-full appearance-none rounded-2xl border border-indigo-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700 shadow-sm outline-none transition-all focus:border-indigo-600 focus:ring-2 focus:ring-indigo-100">
                                        <option>Sarah Connor</option>
                                        <option>John Doe</option>
                                        <option>Marcus Wright</option>
                                    </select>
                                    <div class="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-indigo-400">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Option 2 -->
                        <div id="comp-opt-purge" onclick="updateModalSelection('purge')" class="group flex cursor-pointer items-start gap-4 rounded-[1.75rem] border-2 p-5 transition-all duration-300 border-slate-100 bg-white hover:border-slate-200 hover:shadow-md">
                            <div id="comp-radio-purge" class="mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full border-2 transition-all duration-300 border-slate-300 bg-white">
                                <div class="h-2 w-2 rounded-full bg-white hidden"></div>
                            </div>
                            <div class="flex-1 text-left">
                                <span class="text-base font-bold text-slate-900">Permanent Purge</span>
                                <span class="mt-1 block text-sm text-slate-500 leading-snug">Wipe all user data and remove tasks immediately.</span>
                            </div>
                        </div>
                    </div>

                    <!-- Actions Row -->
                    <div class="mt-10 flex flex-col-reverse gap-3 sm:flex-row sm:justify-between sm:items-center">
                        <button onclick="toggleDeleteUserModal(false)" class="w-full rounded-2xl border border-slate-200 bg-white px-8 py-4 text-sm font-bold text-slate-600 shadow-sm transition-all hover:bg-slate-50 hover:border-slate-300 hover:text-slate-800 active:scale-95 sm:w-auto">
                            Cancel
                        </button>
                        <button id="comp-confirm-btn" onclick="executeDeletion()" class="w-full rounded-2xl px-8 py-4 text-sm font-bold text-white shadow-xl transition-all hover:-translate-y-0.5 active:scale-95 sm:w-auto bg-indigo-600 shadow-indigo-200 hover:bg-indigo-700">
                            Confirm Transfer
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- END OF COMPONENT -->

    <script>
        /**
         * Component Logic: State management for the popup
         */
        let currentModalState = 'transition';

        function toggleDeleteUserModal(show) {
            const modal = document.getElementById('userDeleteComponent');
            if (show) {
                modal.classList.remove('modal-hidden');
                document.body.style.overflow = 'hidden'; // Prevent background scrolling
            } else {
                modal.classList.add('modal-hidden');
                document.body.style.overflow = '';
            }
        }

        function updateModalSelection(option) {
            currentModalState = option;
            
            const transCard = document.getElementById('comp-opt-trans');
            const purgeCard = document.getElementById('comp-opt-purge');
            const transRadio = document.getElementById('comp-radio-trans');
            const purgeRadio = document.getElementById('comp-radio-purge');
            const dropdown = document.getElementById('comp-dropdown');
            const confirmBtn = document.getElementById('comp-confirm-btn');

            if (option === 'transition') {
                // Activate Transition
                transCard.className = "group relative flex cursor-pointer flex-col gap-4 rounded-[1.75rem] border-2 p-5 transition-all duration-300 border-indigo-600 bg-indigo-50/40 ring-4 ring-indigo-50";
                transRadio.className = "mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full border-2 transition-all duration-300 border-indigo-600 bg-indigo-600 scale-110 shadow-lg";
                transRadio.querySelector('div').classList.remove('hidden');
                dropdown.classList.remove('hidden');

                // Deactivate Purge
                purgeCard.className = "group flex cursor-pointer items-start gap-4 rounded-[1.75rem] border-2 p-5 transition-all duration-300 border-slate-100 bg-white hover:border-slate-200 hover:shadow-md";
                purgeRadio.className = "mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full border-2 transition-all duration-300 border-slate-300 bg-white";
                purgeRadio.querySelector('div').classList.add('hidden');

                // Update Button
                confirmBtn.innerText = "Confirm Transfer";
                confirmBtn.className = "w-full rounded-2xl px-8 py-4 text-sm font-bold text-white shadow-xl transition-all hover:-translate-y-0.5 active:scale-95 sm:w-auto bg-indigo-600 shadow-indigo-200 hover:bg-indigo-700";
            } else {
                // Activate Purge
                purgeCard.className = "group flex cursor-pointer items-start gap-4 rounded-[1.75rem] border-2 p-5 transition-all duration-300 border-red-600 bg-red-50/40 ring-4 ring-red-50";
                purgeRadio.className = "mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full border-2 transition-all duration-300 border-red-600 bg-red-600 scale-110 shadow-lg";
                purgeRadio.querySelector('div').classList.remove('hidden');

                // Deactivate Transition
                transCard.className = "group relative flex cursor-pointer flex-col gap-4 rounded-[1.75rem] border-2 p-5 transition-all duration-300 border-slate-100 bg-white hover:border-slate-200 hover:shadow-md";
                transRadio.className = "mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full border-2 transition-all duration-300 border-slate-300 bg-white";
                transRadio.querySelector('div').classList.add('hidden');
                dropdown.classList.add('hidden');

                // Update Button
                confirmBtn.innerText = "Confirm Deletion";
                confirmBtn.className = "w-full rounded-2xl px-8 py-4 text-sm font-bold text-white shadow-xl transition-all hover:-translate-y-0.5 active:scale-95 sm:w-auto bg-red-600 shadow-red-200 hover:bg-red-700";
            }
        }

        function executeDeletion() {
            console.log("Component Action Confirmed:", currentModalState);
            alert("Action confirmed: " + currentModalState);
            toggleDeleteUserModal(false);
        }

        // Global Esc Key Support
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') toggleDeleteUserModal(false);
        });
    </script>
</body>
</html>