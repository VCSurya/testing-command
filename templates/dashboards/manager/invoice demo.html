<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detailed Sales Invoice & Tracking</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom Font Setup */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        :root {
            --primary-color: #34D399; /* Green 400 - slightly brighter for dark mode contrast */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #1F2937; /* Dark Charcoal/Navy */
        }

        .tracking-dot {
            width: 1.5rem;
            height: 1.5rem;
            min-width: 1.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .tracking-line {
            position: absolute;
            top: 0.75rem;
            left: 0.75rem;
            height: 100%;
            width: 2px;
            background-color: #4B5563; /* Gray 600 for dark mode contrast */
        }

        .completed-dot {
            background-color: var(--primary-color);
            color: #000; /* Dark text for bright green dot */
            box-shadow: 0 0 10px rgba(52, 211, 153, 0.5);
        }

        .completed-line {
            background-color: var(--primary-color) !important;
        }
    </style>
</head>
<body class="bg-gray-900">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-7xl">
        <div id="invoice-container" class="bg-gray-800 shadow-2xl rounded-xl p-6 md:p-10 border border-gray-700">

            <!-- Title & Invoice Header -->
            <header class="mb-8 pb-4 border-b-2 border-gray-700">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center">
                    <h1 class="text-3xl font-bold text-gray-100 mb-2 sm:mb-0">SMART TRADERS</h1>
                    
                    <!-- Status Badge (Set to CANCELLED for demonstration) -->
                    <span class="px-3 py-1 text-sm font-bold rounded-full bg-red-900/40 text-red-400 border border-red-500 mb-2 sm:mb-0">
                        STATUS: CANCELLED
                    </span>
                    
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-400">Invoice No:</p>
                        <p class="text-xl font-extrabold text-gray-50">INV-2025-00123</p>
                    </div>
                </div>
                
                <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm">
                    <div>
                        <p class="font-semibold text-gray-400">Created Date:</p>
                        <p class="text-gray-300">2025-12-15</p>
                    </div>
                    <div class="sm:text-right">
                        <p class="font-semibold text-gray-400">Sales Representative:</p>
                        <p class="text-gray-300">Alex Johnson</p>
                    </div>
                </div>
            </header>
            
            <!-- Event/Exhibition Details -->
            <section class="mb-8 p-5 bg-gray-900 rounded-lg border border-gray-700">
                <h2 class="text-lg font-bold text-gray-100 mb-4 border-b border-gray-600 pb-2">Event Information (Point of Sale)</h2>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-y-3 gap-x-6 text-sm">
                    <div class="md:col-span-2">
                        <p class="font-medium text-gray-400">Event Name:</p>
                        <p class="font-semibold text-gray-100">National Traders Expo 2025</p>
                    </div>
                    <div>
                        <p class="font-medium text-gray-400">Location:</p>
                        <p class="font-semibold text-gray-100">Exhibition Center, New Delhi</p>
                    </div>
                    <div>
                        <p class="font-medium text-gray-400">Event Dates:</p>
                        <p class="font-semibold text-gray-100">Dec 10, 2025 - Dec 16, 2025</p>
                    </div>
                </div>
            </section>

            <!-- Customer Details & Shipping Info -->
            <section class="mb-8 p-5 bg-gray-700 rounded-lg">
                <h2 class="text-lg font-bold text-gray-100 mb-4 border-b border-gray-600 pb-2">Customer & Shipping Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-y-3 gap-x-6 text-sm">
                    
                    <!-- Customer Details -->
                    <div>
                        <p class="font-medium text-gray-400">Customer Name:</p>
                        <p class="font-semibold text-gray-100">Priya Sharma</p>
                    </div>
                    <div>
                        <p class="font-medium text-gray-400">Mobile Number:</p>
                        <p class="font-semibold text-gray-100">+91 98765 43210</p>
                    </div>
                    <div>
                        <p class="font-medium text-gray-400">State & Pincode:</p>
                        <p class="font-semibold text-gray-100">Maharashtra, 400001</p>
                    </div>
                    
                    <!-- NEW Transport Details -->
                    <div class="border-l border-gray-600 pl-4 md:border-l-0 md:pl-0">
                        <p class="font-medium text-gray-400">Delivery Mode:</p>
                        <p class="font-semibold text-yellow-300">Transport/Road Carrier</p>
                    </div>

                    <div class="md:col-span-2">
                        <p class="font-medium text-gray-400">Address:</p>
                        <p class="font-semibold text-gray-100">45, Bluebird Lane, Near City Mall, Mumbai</p>
                    </div>
                    
                    <!-- NEW Transport Company Name -->
                    <div class="md:col-span-2">
                        <p class="font-medium text-gray-400">Transport Company:</p>
                        <p class="font-semibold text-gray-100">XYZ Logistics</p>
                    </div>

                </div>
            </section>

            <!-- Itemized Products Table -->
            <section class="mb-8">
                <h2 class="text-lg font-bold text-gray-100 mb-4 border-b border-gray-700 pb-2">Order Summary</h2>
                <div class="overflow-x-auto rounded-lg shadow-md border border-gray-700">
                    <table class="min-w-full divide-y divide-gray-700">
                        <thead class="bg-gray-700">
                            <tr>
                                <th scope="col" class="px-3 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Item Name</th>
                                <th scope="col" class="px-3 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider">Qty</th>
                                <th scope="col" class="px-3 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider">Price (₹)</th>
                                <th scope="col" class="px-3 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider">Tax (₹)</th>
                                <th scope="col" class="px-3 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider">Total (₹)</th>
                            </tr>
                        </thead>
                        <tbody class="bg-gray-800 divide-y divide-gray-700 text-sm">
                            <tr>
                                <td class="px-3 py-4 whitespace-nowrap text-gray-100 font-medium">Product A - Premium</td>
                                <td class="px-3 py-4 whitespace-nowrap text-right text-gray-300">10</td>
                                <td class="px-3 py-4 whitespace-nowrap text-right text-gray-300">1,000.00</td>
                                <td class="px-3 py-4 whitespace-nowrap text-right text-gray-300">500.00 <span class="text-xs text-gray-500">(5%)</span></td>
                                <td class="px-3 py-4 whitespace-nowrap text-right text-gray-100 font-bold">10,500.00</td>
                            </tr>
                            <tr>
                                <td class="px-3 py-4 whitespace-nowrap text-gray-100 font-medium">Product B - Basic</td>
                                <td class="px-3 py-4 whitespace-nowrap text-right text-gray-300">5</td>
                                <td class="px-3 py-4 whitespace-nowrap text-right text-gray-300">500.00</td>
                                <td class="px-3 py-4 whitespace-nowrap text-right text-gray-300">250.00 <span class="text-xs text-gray-500">(10%)</span></td>
                                <td class="px-3 py-4 whitespace-nowrap text-right text-gray-100 font-bold">5,250.00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Totals Summary -->
                <div class="flex justify-end mt-6">
                    <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4">
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Subtotal:</span>
                                <span class="font-medium text-gray-100">₹ 15,000.00</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Total Tax:</span>
                                <span class="font-medium text-gray-100">₹ 750.00</span>
                            </div>
                            <div class="flex justify-between pt-2 border-t border-gray-600">
                                <span class="text-lg font-extrabold text-gray-100">Grand Total:</span>
                                <span class="text-lg font-extrabold text-green-400">₹ 15,750.00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Transactions Table section -->
                <div class="mt-8 border border-gray-700 rounded-lg shadow-md overflow-hidden">
                    <h3 class="text-md font-bold text-gray-100 bg-gray-700 p-3">Payment Transactions History</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-700 text-sm">
                            <thead class="bg-gray-700/50">
                                <tr>
                                    <th class="px-3 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Date</th>
                                    <th class="px-3 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Mode</th>
                                    <th class="px-3 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider">Amount (₹)</th>
                                    <th class="px-3 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Received By</th>
                                </tr>
                            </thead>
                            <tbody class="bg-gray-800 divide-y divide-gray-700 text-sm">
                                <tr>
                                    <td class="px-3 py-3 whitespace-nowrap text-gray-300">2025-12-15</td>
                                    <td class="px-3 py-3 whitespace-nowrap text-gray-300">UPI</td>
                                    <td class="px-3 py-3 whitespace-nowrap text-right text-gray-100 font-medium">7,750.00</td>
                                    <td class="px-3 py-3 whitespace-nowrap text-gray-300">Sarah Doe</td>
                                </tr>
                                <tr>
                                    <td class="px-3 py-3 whitespace-nowrap text-gray-300">2025-12-16</td>
                                    <td class="px-3 py-3 whitespace-nowrap text-gray-300">Bank Transfer</td>
                                    <td class="px-3 py-3 whitespace-nowrap text-right text-gray-100 font-medium">8,000.00</td>
                                    <td class="px-3 py-3 whitespace-nowrap text-gray-300">Mark Lee</td>
                                </tr>
                                <tr class="bg-green-900/30 font-bold">
                                    <td colspan="2" class="px-3 py-3 text-left text-green-400">Total Paid:</td>
                                    <td class="px-3 py-3 text-right text-green-400">15,750.00</td>
                                    <td class="px-3 py-3"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <!-- Tracking Stages Timeline -->
            <section class="mb-8 pt-6 border-t border-gray-700">
                <h2 class="text-lg font-bold text-gray-100 mb-4">Shipment Tracking Stages</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-6 text-xs text-center md:text-left">
                    
                    <!-- Stages Data (Mocked) - Assuming tracking stops due to cancellation -->
                    <div class="col-span-1">
                        <div class="flex items-center space-x-3 relative">
                            <!-- Vertical line (only visible on mobile/small screens) -->
                            <div class="tracking-line md:hidden"></div>
                            
                            <div class="tracking-dot completed-dot bg-green-400">1</div>
                            <div class="text-left">
                                <p class="font-semibold text-green-400">Sales</p>
                                <p class="text-gray-400">2025-12-15</p>
                                <p class="text-gray-400">Alex Johnson</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-span-1">
                        <div class="flex items-center space-x-3 relative">
                            <div class="tracking-line md:hidden completed-line"></div>
                            <div class="tracking-dot completed-dot bg-green-400">2</div>
                            <div class="text-left">
                                <p class="font-semibold text-green-400">Payment</p>
                                <p class="text-gray-400">2025-12-15</p>
                                <p class="text-gray-400">Sarah Doe</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-span-1">
                        <div class="flex items-center space-x-3 relative">
                            <div class="tracking-line md:hidden completed-line"></div>
                            <div class="tracking-dot bg-red-500 text-gray-900 shadow-lg">3</div>
                            <div class="text-left">
                                <p class="font-semibold text-red-500">Packing</p>
                                <p class="text-gray-400">2025-12-16</p>
                                <p class="text-gray-400">Mark Lee</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-span-1">
                        <div class="flex items-center space-x-3 relative">
                            <div class="tracking-line md:hidden"></div>
                            <div class="tracking-dot bg-gray-600 text-gray-300">4</div>
                            <div class="text-left">
                                <p class="font-semibold text-gray-400">Transport</p>
                                <p class="text-gray-500">Skipped</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-span-1">
                        <div class="flex items-center space-x-3 relative">
                            <div class="tracking-line md:hidden"></div>
                            <div class="tracking-dot bg-gray-600 text-gray-300">5</div>
                            <div class="text-left">
                                <p class="font-semibold text-gray-400">Builty</p>
                                <p class="text-gray-500">Skipped</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-span-1">
                        <div class="flex items-center space-x-3 relative">
                            <div class="tracking-line md:hidden"></div>
                            <div class="tracking-dot bg-gray-600 text-gray-300">6</div>
                            <div class="text-left">
                                <p class="font-semibold text-gray-400">Verifyed</p>
                                <p class="text-gray-500">Skipped</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-span-1">
                        <div class="flex items-center space-x-3 relative">
                            <div class="tracking-line md:hidden"></div>
                            <div class="tracking-dot bg-red-500 text-gray-900 shadow-lg">7</div>
                            <div class="text-left">
                                <p class="font-semibold text-red-500">Cancelled</p>
                                <p class="text-gray-400">2025-12-16</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Horizontal Timeline for Desktop -->
                <div class="hidden xl:flex w-full mt-4 items-center justify-between relative h-2">
                    <div class="absolute top-0 left-0 w-full h-0.5 bg-gray-600"></div>
                    <!-- Completed Line (Stops where cancellation occurred) -->
                    <div class="absolute top-0 left-0 h-0.5 bg-green-400" style="width: calc((2/7) * 100% + 1.5rem);"></div> 
                </div>

            </section>
            
            <!-- Cancellation Status Section -->
            <section class="mb-8 pt-6 border-t border-gray-700">
                <h2 class="text-lg font-bold text-red-400 mb-4">Order Cancellation Details</h2>
                <div class="p-6 bg-red-900/30 border-2 border-red-700 rounded-lg grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                    
                    <div class="lg:col-span-2">
                        <p class="font-semibold text-red-400">Reason for Cancellation:</p>
                        <p class="text-gray-200 font-medium">Customer initiated cancellation due to unexpected project scope change and reduced material requirement.</p>
                    </div>
                    
                    <div>
                        <p class="font-semibold text-red-400">Cancelled By:</p>
                        <p class="text-gray-200">Priya Sharma (Customer)</p>
                    </div>

                    <div>
                        <p class="font-semibold text-red-400">Cancellation Date:</p>
                        <p class="text-gray-200">2025-12-16</p>
                    </div>
                    
                    <div>
                        <p class="font-semibold text-red-400">Confirmation User:</p>
                        <p class="text-gray-200">Alex Johnson (Sales)</p>
                    </div>

                    <div>
                        <p class="font-semibold text-red-400">Confirmation Date/Time:</p>
                        <p class="text-gray-200">2025-12-16, 14:30 IST</p>
                    </div>
                    
                </div>
            </section>

            <!-- Notes/Remarks Section -->
            <section class="pt-6 border-t border-gray-700">
                <h2 class="text-lg font-bold text-gray-100 mb-4">Notes & Remarks</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-sm">
                    
                    <!-- Sales Note -->
                    <div class="p-4 bg-blue-900/30 border-l-4 border-blue-400 rounded-lg shadow-sm">
                        <p class="font-semibold text-blue-400 mb-1">Sales Remark:</p>
                        <p class="text-gray-300 italic">"Initial order confirmed for express delivery. **Status changed to CANCELLED on 2025-12-16.**"</p>
                    </div>
                    
                    <!-- Packaging Note -->
                    <div class="p-4 bg-yellow-900/30 border-l-4 border-yellow-400 rounded-lg shadow-sm">
                        <p class="font-semibold text-yellow-400 mb-1">Packaging Instructions:</p>
                        <p class="text-gray-300 italic">"Stop packing immediately. Prepare items for return to inventory."</p>
                    </div>
                    
                    <!-- Transport Note - Carrier name removed as it's now in Customer Details -->
                    <div class="p-4 bg-red-900/30 border-l-4 border-red-400 rounded-lg shadow-sm">
                        <p class="font-semibold text-red-400 mb-1">Transport Requirements:</p>
                        <p class="text-gray-300 italic">"Dispatch notification cancelled. No goods to be shipped. Carrier was already assigned."</p>
                    </div>
                </div>
            </section>
            
            <!-- PACKING IMAGE GALLERY (Moved to Last) -->
            <section class="mb-8 pt-6 border-t border-gray-700">
                <h2 class="text-lg font-bold text-gray-100 mb-4">Packing Images</h2>
                
                <!-- Toggle Button -->
                <button id="toggleImagesBtn" 
                        class="px-4 py-2 mb-4 text-sm font-semibold rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition duration-200 shadow-lg">
                    Show Packing Images (3)
                </button>

                <!-- Gallery Content (Initially Hidden) -->
                <div id="packingImagesGallery" class="hidden grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    
                    <!-- Image 1 -->
                    <div class="bg-gray-700/50 p-4 rounded-lg shadow-xl border border-gray-700">
                        <!-- Placeholder image simulating an uploaded file -->
                        <img src="https://placehold.co/400x300/374151/E5E7EB?text=Package+View+1" 
                             alt="Packing Image 1" 
                             class="w-full h-auto rounded-lg mb-3 object-cover border border-gray-600">
                        <p class="text-sm font-semibold text-gray-200">Package Photo: Front View</p>
                        <p class="text-xs text-gray-400 mt-1">Uploaded By: Mark Lee (Packer)</p>
                        <p class="text-xs text-gray-400">Date: 2025-12-16, 09:15 AM</p>
                    </div>

                    <!-- Image 2 -->
                    <div class="bg-gray-700/50 p-4 rounded-lg shadow-xl border border-gray-700">
                        <!-- Placeholder image simulating an uploaded file -->
                        <img src="https://placehold.co/400x300/374151/E5E7EB?text=Package+View+2" 
                             alt="Packing Image 2" 
                             class="w-full h-auto rounded-lg mb-3 object-cover border border-gray-600">
                        <p class="text-sm font-semibold text-gray-200">Package Photo: Label & Seal</p>
                        <p class="text-xs text-gray-400 mt-1">Uploaded By: Mark Lee (Packer)</p>
                        <p class="text-xs text-gray-400">Date: 2025-12-16, 09:20 AM</p>
                    </div>

                    <!-- Image 3 (Optional, for gallery effect) -->
                    <div class="bg-gray-700/50 p-4 rounded-lg shadow-xl border border-gray-700">
                        <!-- Placeholder image simulating an uploaded file -->
                        <img src="https://placehold.co/400x300/374151/E5E7EB?text=Interior+Items+Check" 
                             alt="Packing Image 3" 
                             class="w-full h-auto rounded-lg mb-3 object-cover border border-gray-600">
                        <p class="text-sm font-semibold text-gray-200">Pre-pack: Item Verification</p>
                        <p class="text-xs text-gray-400 mt-1">Uploaded By: Susan Chen (Supervisor)</p>
                        <p class="text-xs text-gray-400">Date: 2025-12-16, 08:45 AM</p>
                    </div>
                    
                </div>
            </section>
            

        </div>
    </div>

    <!-- JavaScript for toggling image visibility -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const button = document.getElementById('toggleImagesBtn');
            const gallery = document.getElementById('packingImagesGallery');

            if (button && gallery) {
                button.addEventListener('click', () => {
                    gallery.classList.toggle('hidden');
                    if (gallery.classList.contains('hidden')) {
                        button.textContent = 'Show Packing Images (3)';
                        button.classList.remove('bg-red-600', 'hover:bg-red-700');
                        button.classList.add('bg-blue-600', 'hover:bg-blue-700');
                    } else {
                        button.textContent = 'Hide Packing Images (3)';
                        button.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                        button.classList.add('bg-red-600', 'hover:bg-red-700');
                    }
                });
            }
        });
    </script>

</body>
</html>